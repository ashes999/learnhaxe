<?xml version="1.0" encoding="utf-8"?>
      <feed xmlns="http://www.w3.org/2005/Atom">
        <title>Learn Haxe</title>
        <link href="http://ashes999.github.io/learnhaxe" />
        <id>urn:uuid:51e6386ca9155b4889db67f17ba6089f</id>
  	    <updated>2016-01-12TZ</updated><entry>
      		<title>Logitech F310 Support in Haxeflixe</title>
          <link href="http://ashes999.github.io/learnhaxe/logitech-f310-support-in-haxeflixe" />
      		<id>urn:uuid:63e5e080f7f0cec9300e8936403e142a</id>
      		<updated>2016-01-12TZ</updated>
      		<summary>Logitech F310 Support in Haxeflixe</summary>
      		<content type="xhtml">
      			<p>I recently received a <a href="http://gaming.logitech.com/en-us/product/f310-gamepad">Logitech F310 gamepad</a>. Since HaxeFlixel already <a href="http://api.haxeflixel.com/flixel/input/gamepad/FlxGamepad.html">has gamepad support</a> (buttons, deadzone, D-Pad, etc.), including support for <a href="http://api.haxeflixel.com/flixel/input/gamepad/LogitechButtonID.html">reading Logitech button input</a>, I figured it would work out-of-the-box, right?</p>
<p>Right?</p>
<p>It turns out that the <code>LogitechButtonID</code> class contains values based on the <strong>Cordless Rumblepad 2</strong> controller. If you look <a href="https://www.google.com/search?site=&amp;tbm=isch&amp;source=hp&amp;biw=1440&amp;bih=799&amp;q=rumblepad+2&amp;oq=rumblepad+2&amp;gs_l=img.3..0j0i5i30l9.662.1846.0.1959.11.10.0.1.1.0.151.963.4j5.9.0....0...1ac.1.64.img..1.10.964.x4VlaV7zemA">at screenshots</a>, you'll notice the pads all have numbers on them.</p>
<p>That's no good -- the F310 uses <code>A</code>, <code>B</code>, <code>X</code>, and <code>Y</code> for buttons, with left and right triggers (<code>LB</code> and <code>RB</code> respectively). Fortunately, the LogitechButtonID class' comments indicate which value applise to which button; these values match up exactly with the F310.  For example:</p>
<pre><code>static inline read only FOUR:Int = 11
Placement equivalent to 'Y' button on the Xbox 360 controller</code></pre>
<p>That only leaves the D-Pads. The built in enum values don't work; instead, I used <a href="https://github.com/HaxeFlixel/flixel/blob/master/flixel/input/gamepad/FlxGamepad.hx#L39">the four <code>dpad*</code> properties</a> defined on the controller itself; these work perfectly.</p>
<p>If you want to try this for yourself, it's quite easy:</p>
<p>1) Run <code>flixel create</code> and then select demo <code>34</code>, <code>GamepadTest</code>.</p>
<p>2) Replace the contents of the <code>GamepadIDs</code> class with the correct button enum values:</p>
<pre><code>public static inline var A = LogitechButtonID.TWO;
public static inline var B = LogitechButtonID.THREE;
public static inline var X = LogitechButtonID.ONE;
public static inline var Y = LogitechButtonID.FOUR;
public static inline var LB = LogitechButtonID.FIVE;
public static inline var RB = LogitechButtonID.SIX;
public static inline var START = LogitechButtonID.TEN;
public static inline var SELECT = LogitechButtonID.NINE;
public static inline var LEFT_ANALOGUE = LogitechButtonID.LEFT_ANALOGUE;
public static inline var RIGHT_ANALOGUE = LogitechButtonID.RIGHT_ANALOGUE;
public static inline var LEFT_ANALOGUE_X = LogitechButtonID.LEFT_ANALOGUE_X;
public static inline var LEFT_ANALOGUE_Y = LogitechButtonID.LEFT_ANALOGUE_Y;
public static inline var RIGHT_ANALOGUE_X = LogitechButtonID.RIGHT_ANALOGUE_X;
public static inline var RIGHT_ANALOGUE_Y =  LogitechButtonID.RIGHT_ANALOGUE_Y;</code></pre>
<p>3) Modify <code>PlayState.hx</code>'s <code>updateDpad</code> function; the values assigned to the four <code>dpad*</code> variables should be:</p>
<pre><code>var dpadLeft = _gamePad.dpadLeft;
var dpadRight = _gamePad.dpadRight;
var dpadUp = _gamePad.dpadUp;
var dpadDown = _gamePad.dpadDown;</code></pre>
<p>Run <code>lime test neko</code> and observe that all input displays as expected.</p>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Appending to a File in Haxe</title>
          <link href="http://ashes999.github.io/learnhaxe/appending-to-a-file-in-haxe" />
      		<id>urn:uuid:4b7bda57b940ac159b93bc734983c4cb</id>
      		<updated>2015-12-28TZ</updated>
      		<summary>Appending to a File in Haxe</summary>
      		<content type="xhtml">
      			<p>It's not obvious how to append to a file in Haxe. If you check the <a href="http://api.haxe.org/sys/io/File.html">sys.io.File API</a>, you'll find an <a href="http://api.haxe.org/sys/io/File.html#append">append method</a>, which looks promising, but outputs an instance of <code>FileOutput</code>.</p>
<p>The <code>FileOutput</code> <a href="http://api.haxe.org/sys/io/FileOutput.html">API</a> looks pretty sparse and unusable, until you click on the <a href="http://api.haxe.org/haxe/io/Output.html">base-class <code>Output</code> API</a>. There, you see promising methods, like <a href="http://api.haxe.org/haxe/io/Output.html#writeString"><code>writeString</code></a>.</p>
<p>To combine these together, you can append a string to a file like so (don't forget to close the output stream):</p>
<pre><code>public function append(message:String, fileName:String) {
  var output:FileOutput = sys.io.File.append(fileName, false);
  output.writeString(message);
  output.close()
}</code></pre>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Embedding Fonts in Haxeflixel With Flxtext</title>
          <link href="http://ashes999.github.io/learnhaxe/embedding-fonts-in-haxeflixel-with-flxtext" />
      		<id>urn:uuid:37b0dd21a6d89a19e35f072a3895808d</id>
      		<updated>2015-12-22TZ</updated>
      		<summary>Embedding Fonts in Haxeflixel With Flxtext</summary>
      		<content type="xhtml">
      			<p>The <a href="api.haxeflixel.com/flixel/text/FlxText.html">FlxText class</a> provides three ways to set the font:</p><ul><li>By setting the <a href="http://api.haxeflixel.com/flixel/text/FlxText.html#font">font field</a> to a font name (eg. <code>Times New Roman</code>). This works with embedded fonts (TTF file is in <code>Assets</code> and included in the final binaries)</li><li>By setting the <a href="http://api.haxeflixel.com/flixel/text/FlxText.html#systemFont">systemFont field</a> to a font name. This only works with system fonts, which can be tricky if your app has to work across Windows and Linux, or across mobile and desktop. There's a small list of <a href="http://webdesign.about.com/od/fonts/qt/web-safe-fonts.htm">web safe fonts</a> which you can try.</li><li>By calling the <a href="http://api.haxeflixel.com/flixel/text/FlxText.html#setFormat">setFormat method</a>. You can specify lots of properties together; in particular, you can specify the path to a TTF file, eg. <code>setFormat("assets/MyCustomFont.ttf", ...)</code></li></ul>
<p>The third method strikes me as the most maintainable, because it's <strong>immediately obvious which font you're using</strong>, and where that font file originates from. With system fonts and embedded fonts, if the font doesn't work, it's more work to triage and isolate exactly where the problem lies (did you add the font file to <code>Assets</code>? Is it embedding properly? Did you specify the correct name? Does it work on other targets?).</p>
<p>The third method also has the best chance to be consistent and cross-platform compatible (by virtue of using embedded fonts), because you're not relying on whatever fonts might be included in the device's system.</p>
<p><a href="https://www.google.com/fonts">Google Fonts</a> provides a wealth of fonts which you can use.  You can download all of them (as TTF and OTF) and embed them in your HaxeFlixel games.</p>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Properties and Dynamic</title>
          <link href="http://ashes999.github.io/learnhaxe/properties-and-dynamic" />
      		<id>urn:uuid:16fb3f8251b8e3556573f1f1773341ff</id>
      		<updated>2015-12-10TZ</updated>
      		<summary>Properties and Dynamic</summary>
      		<content type="xhtml">
      			<p>While reading through the <a href="http://haxe.org/manual/">Haxe manual</a> (which, by the way, is a good reference, but not a good learning resource), I stumbled upon <a href="http://haxe.org/manual/class-field-property-type-system-impact.html">this page about properties</a>:</p>
<blockquote>
<p>The presence of properties has several consequences on the type system. Most importantly, it is necessary to understand that properties are a compile-time feature and thus <strong>require the types to be known.</strong> If we were to assign a class with properties to <code>Dynamic</code>, field access would <strong>not</strong> respect accessor methods. Likewise, access restrictions no longer apply and all access is virtually public.</p></blockquote>
<p>(If you don't understand properties yet, go and read <a href="http://haxe.org/manual/class-field-property.html">this</a> and <a href="http://haxe.org/manual/class-field-property-common-combinations.html">this</a> first.) This example demonstrates how this works:</p>
<pre><code>class Test {
    static function main() {
        var p = new Props();
        p.x = 35;
        trace('p.x is ${p.x}');

        var p2:Dynamic = new Props();
        p2.x = 35;
        trace('p2.x is ${p2.x}');
    }
}

class Props {
    public function new() { }
    public var x(get, set):Int;

    function get_x() : Int
    {
        return -1;
    }

    function set_x(x:Int) : Int
    {
        return -2;
    }
}</code></pre>
<p>(You can also try <a href="http://try.haxe.org/#CA2Cf">this example online</a>.) The output is:</p>
<pre><code>16:42:46:878   p.x is -1
16:42:46:878   p2.x is 35</code></pre>
<p>Because the Haxe runtime knows that <code>p</code> is an instance of <code>Props</code>, it can apply the getter/setter functions. Because <code>p2</code> is typed as <code>Dynamic</code>, the runtime doesn't respect the field access. (In this case, the runtime treats the field like a regular field or public variable.)</p>
<p>Use <code>Dynamic</code> judiciously, and tread carefully if you use it on instances of classes that have properties. If you rely on your getter/setter to set up certain invariants about your properties, you  may find them no longer respected.</p>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Filestat Ctime on Unix</title>
          <link href="http://ashes999.github.io/learnhaxe/filestat-ctime-on-unix" />
      		<id>urn:uuid:fcb6cf468312b74675ed31c2cc1f756c</id>
      		<updated>2015-12-01TZ</updated>
      		<summary>Filestat Ctime on Unix</summary>
      		<content type="xhtml">
      			<p>The <a href="http://api.haxe.org/sys/FileStat.html#ctime">API docs for sys.FileStat</a> state that <code>ctime</code> returns <code>the creation time for the file (not all filesystems support this)</code>.</p>
<p>This returns correctly on Windows, but not on Linux (I tested with both <code>cpp</code> and <code>neko</code> targets).</p>
<p>Windows stores the file creation time. On Linux, the story is more complicated. <code>ctime</code> is a C++ API. Windows stores the file creation time.  On Linux, according to <a href="http://unix.stackexchange.com/a/20464/64805">this Unix SE question</a> (which is mostly derived from <code>man</code> pages):</p>
<blockquote>
<p>Most unices do not have a concept of file creation time. [...]
Note that <strong>the ctime</strong> (<code>ls -lc</code>) <strong>is not the file creation time</strong>, it's the <a href="http://en.wikipedia.org/wiki/Inode">inode</a> change time. The inode change time is updated whenever anything about the file changes (contents or metadata) except that the ctime isn't updated when the file is merely read (even if the atime is updated). In particular, the ctime is always more recent than the mtime (file content modification time) unless the mtime has been explicitly set to a date in the future.</p></blockquote>
<p>I couldn't trace the Haxe source all the way down the stack, but I believe it does access the Unix <code>ctime</code> on Unix. This leaves us in a bind: how do we know the file creation time on Unix?</p>
<p>One option I came up with is to use <a href="http://api.haxe.org/sys/io/Process.html">sys.io.Process</a> to fork a process, execute a command like <code>stat</code> to get the file time, and parse the output. This is possible, but on Ubuntu 14.04, I tested this, and the file birth time is unknown (the filesystem doesn't store it). This is also expensive, and the results should be cached.</p>
<p>If this is not possible or performant, the other option may be to store the time somewhere yourself. I ran into this while creating <a href="http://github.com/ashes999/butterfly">Butterfly</a>, a static blog generator which uses file time to guess the blog post publish date. Jekyll (a similar, Ruby based appliaction) requires users enter the post time in the filename.</p>
<p>There may be other solutions, but I don't know of any.</p>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Using a Haxelib in Haxe</title>
          <link href="http://ashes999.github.io/learnhaxe/using-a-haxelib-in-haxe" />
      		<id>urn:uuid:830b23882926fc96c5abd3735dbcb93c</id>
      		<updated>2015-11-29TZ</updated>
      		<summary>Using a Haxelib in Haxe</summary>
      		<content type="xhtml">
      			<p>Haxe includes a built-in package manager, <a href="http://haxe.org/manual/haxelib.html">haxelib</a>. You can install, upgrade, and manage libraries <a href="http://lib.haxe.org/">via the command-line</a>.</p>
<p>Once you install a library through haxelib, you need to tell the compiler to include it when you compile. As mentioned <a href="http://haxe.org/manual/haxelib-using-haxe.html">on this page</a>, you specify the library via the command-line:</p>
<p><code>haxe -lib &lt;libName&gt; ...</code></p>
<p>This includes the library code. Don't forget to add the relevant <code>import ...</code> statements to include library classes (if the library uses packages).</p>
<p>To include multiple libraries, just add more <code>-lib &lt;foo&gt;</code> arguments.</p>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Recursively Delete a Directory in Haxe</title>
          <link href="http://ashes999.github.io/learnhaxe/recursively-delete-a-directory-in-haxe" />
      		<id>urn:uuid:23277b25e7c3ac0e5be838bc9596f7af</id>
      		<updated>2015-11-28TZ</updated>
      		<summary>Recursively Delete a Directory in Haxe</summary>
      		<content type="xhtml">
      			<p>Haxe doesn't include any built-in APIs to delete a directory recursively (including all subdirectories and files). Although the <code>sys.FileSystem</code> class <a href="http://api.haxe.org/sys/FileSystem.html#deleteDirectory">includes a deleteDirectory method</a>, it throws an exception if the directory contains subdirectories or files.</p>
<p>This code recursively deletes directories and their contents:</p>
<pre><code>private function deleteDirRecursively(path:String) : Void
{
  if (sys.FileSystem.exists(path) &amp;&amp; sys.FileSystem.isDirectory(path))
  {
    var entries = sys.FileSystem.readDirectory(path);
    for (entry in entries) {
      if (sys.FileSystem.isDirectory(path + '/' + entry)) {
        deleteDirRecursively(path + '/' + entry);
        sys.FileSystem.deleteDirectory(path + '/' + entry);
      } else {
        sys.FileSystem.deleteFile(path + '/' + entry);
      }
    }
  }
}</code></pre>
<p>It works by deleting all files in a directory, and by recursively deleting subdirectories and removing them if they have contents.</p>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Sorting an Array of Strings in Haxe</title>
          <link href="http://ashes999.github.io/learnhaxe/sorting-an-array-of-strings-in-haxe" />
      		<id>urn:uuid:0999daa431699b363238889657b7233d</id>
      		<updated>2015-11-28TZ</updated>
      		<summary>Sorting an Array of Strings in Haxe</summary>
      		<content type="xhtml">
      			<p>To sort an array of strings alphabetically, you can use the <code>Array.Sort</code> method (see: <a href="http://api.haxe.org/Array.html#sort">API</a>). It takes a function parameter <code>f(a, b)</code> that returns a negative integer if <code>a</code> is greater, zero if <code>a</code> and <code>b</code> are equal, and a positive integer if <code>b</code> is greater.</p>
<p>To sort the array, you can use this method:</p>
<pre><code>someArray.sort(function(a:String, b:String):Int {
  a = a.toUpperCase();
  b = b.toUpperCase();

  if (a &lt; b) {
    return -1;
  }
  else if (a &gt; b) {
    return 1;
  } else {
    return 0;
  }
});</code></pre>
<p>Alternatively, you can create the function <code>sortAlphabetically(a:String, b:String):Int</code> and call <code>someArray.sort(sortAlphabetically)</code>.</p>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Trim Replace and More Haxe String Extensions</title>
          <link href="http://ashes999.github.io/learnhaxe/trim-replace-and-more-haxe-string-extensions" />
      		<id>urn:uuid:36b26814652785ed97e62def60fc2be5</id>
      		<updated>2015-11-28TZ</updated>
      		<summary>Trim Replace and More Haxe String Extensions</summary>
      		<content type="xhtml">
      			<p>Haxe includes convenient string-modification methods like <code>trim</code> and <code>replace</code>. They don't exist on the <code>String</code> class by default, but need to be included via the <code>StringTools</code> extension:</p>
<pre><code>import StringTools;</code></pre>
<p>Like C#, this is a static extension (syntactic sugar); you can find the full list of extension methods on the <a href="http://api.haxe.org/StringTools.html">StringTools API page</a>.</p>
<p>You can learn more about static extensions via the <a href="http://haxe.org/manual/lf-static-extension.html">Static Extensions documentation page</a>.</p>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry><entry>
      		<title>Check if a Directory Exists Haxe</title>
          <link href="http://ashes999.github.io/learnhaxe/check-if-a-directory-exists-haxe" />
      		<id>urn:uuid:8bc1b122afd9fc35914118ccbf6085bb</id>
      		<updated>2015-11-27TZ</updated>
      		<summary>Check if a Directory Exists Haxe</summary>
      		<content type="xhtml">
      			<p>To check if a directory exists, you can use <code>sys.FileSystem.exists(path)</code>. This returns true if a file <em>or directory</em> exists at the specified path.</p>
<p>To be sure it's a directory, you can also include <code>sys.FileSystem.isDirectory(path)</code>. You can combine them together:</p>
<pre><code>if (sys.FileSystem.exists(path) &amp;&amp; sys.FileSystem.isDirectory(path)) {
  // path exists and is a directory
} else {
  // path doesn't exist, or is a file or something else
}</code></pre>
      		</content>
      		<author>
      			<name>ashes999</name>
      			<email>ashes999@yahoo.com</email>
      		</author>
      	</entry></feed>